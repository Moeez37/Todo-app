(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5021:function(e,t,s){Promise.resolve().then(s.bind(s,4033))},4033:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var l=s(7437),n=s(6691),a=s.n(n),i=s(2265),d=s(2173),o=s(6e3);let r=s(2601).env.NEXT_PUBLIC_API_URL||"http://localhost:3001";(0,o.ZP)(d.Z,{retries:3});var c=e=>{let{todos:t,setTodos:s}=e,[n,o]=(0,i.useState)({}),c=(e,t)=>{d.Z.request({method:"put",maxBodyLength:1/0,url:r+"/todo/"+e,headers:{},data:{status:t}}).then(l=>{o({}),s(s=>s.map(s=>{let l=s;return(null==s?void 0:s._id)===e&&(l={...s,status:t}),l}))}).catch(e=>{console.log(e)})},u=async e=>{let t=await d.Z.delete(r+"/todo/"+e);200==t.status?(o({}),s(t=>t.filter(t=>(null==t?void 0:t._id)!==e))):[400,500].includes(t.status)&&alert("System facing technical issue please try later")},h=()=>(0,l.jsxs)("div",{className:"bg-white p-4",children:[(0,l.jsx)("p",{children:(null==n?void 0:n.status)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-bold",children:"Completed: "}),(0,l.jsx)("span",{children:"Completed"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"text-bold",children:"Completed: "}),(0,l.jsx)("span",{children:"Not Completed"})]})}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{children:"Created At: "}),(0,l.jsx)("span",{children:(null==n?void 0:n.date)?new Date(n.date).toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Custom Date when detailedTodo.date is falsy"})]}),(0,l.jsx)("button",{onClick:()=>u(n._id),className:"mx-auto mt-3 w-full bg-[#fb9d9d] py-2 px-0 rounded text-red-500",children:"Delete"})]});return(0,l.jsx)("div",{className:"border rounded-md bg-[#d4caca]",children:(null==t?void 0:t.length)>0?(0,l.jsx)("ul",{children:null==t?void 0:t.map(e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("li",{className:"flex items-center justify-between py-2 mx-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(a(),{alt:"Check Icon",src:(null==e?void 0:e.status)&&(null==e?void 0:e.status)?"/check-icon.svg":"/uncomplete-icon.svg",width:20,height:20,onClick:()=>c(e._id,!(null==e?void 0:e.status)),className:"cursor-pointer"}),(0,l.jsx)("p",{className:"text-base",children:null==e?void 0:e.title})]}),(0,l.jsx)("div",{className:"cursor-pointer",onClick:()=>o(e),children:(0,l.jsx)(a(),{src:"/dot-icon.svg",alt:"Dot Icon",width:24,height:24})})]},e._id),e._id===n._id?(0,l.jsx)(h,{}):null]}))}):(0,l.jsx)("div",{className:"h-[200px] flex justify-center items-center",children:(0,l.jsx)("p",{children:"No task today"})})})},u=e=>{let{todos:t,setTodos:s}=e,[n,d]=(0,i.useState)(!1);return(0,l.jsxs)("div",{className:"w-full md:w-3/4 lg:w-1/2 xl:w-1/3 mx-auto mt-20",children:[(0,l.jsxs)("div",{onClick:()=>{d(e=>!e)},className:"cursor-pointer flex items-center justify-between bg-[#bdb393] px-2 py-3 rounded",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(a(),{alt:"List Icon",src:"/list-icon.svg",width:24,height:24}),(0,l.jsx)("p",{className:"text-lg font-bold ml-2 text-white",children:"Your Todos"})]}),(0,l.jsx)("div",{className:"cursor-pointer",children:(0,l.jsx)(a(),{alt:"Chevron Icon",src:"/chevron-icon.svg",width:16,height:16})})]}),n?(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(c,{todos:t,setTodos:s})}):null]})},h=e=>{let{newTodoHandler:t}=e,[s,n]=(0,i.useState)("");return(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),t({title:s,setTodo:n})},className:"w-full md:w-3/4 lg:w-1/2 xl:w-1/3 mx-auto mt-20",children:(0,l.jsxs)("div",{className:"flex items-center border-b py-2",children:[(0,l.jsx)("input",{className:"flex-grow appearance-none bg-transparent border-none text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Add new task","aria-label":"Full name",value:s,onChange:e=>n(e.target.value)}),(0,l.jsx)("button",{className:"flex-shrink-0 bg-[#bdb393] text-sm py-1 px-2 rounded",type:"submit",children:(0,l.jsx)(a(),{alt:"Plus Icon",src:"/plus-icon.svg",width:24,height:24})})]})})};let x=s(2601).env.NEXT_PUBLIC_API_URL||"http://localhost:3001",m=[];var p=()=>{let[e,t]=(0,i.useState)(m);return(0,i.useEffect)(()=>{d.Z.request({method:"get",maxBodyLength:1/0,url:"http://localhost:3001/todo",headers:{}}).then(e=>{t(e.data.todos)}).catch(e=>{console.log(e)})},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("div",{className:"mt-8 mb-4 rounded-full bg-gray-300 p-2 inline-flex items-center justify-center",children:(0,l.jsx)("div",{className:"rounded-full overflow-hidden bg-white",children:(0,l.jsx)(a(),{height:96,width:96,src:"/profile.jpg",alt:"Your Image Alt Text",className:"w-36 h-36 object-cover rounded-full ",layout:"fixed"})})})}),(0,l.jsx)(h,{newTodoHandler:e=>{let s=JSON.stringify({date:new Date,title:e.title,status:!1});d.Z.request({method:"post",maxBodyLength:1/0,url:x+"/todo/new",headers:{"Content-Type":"application/json"},data:s}).then(s=>{e.id=s.data.id,e.setTodo(""),t(t=>[...t,e])}).catch(e=>{console.log(e)})}}),(0,l.jsx)(u,{todos:e,setTodos:t})]})}}},function(e){e.O(0,[968,971,938,744],function(){return e(e.s=5021)}),_N_E=e.O()}]);